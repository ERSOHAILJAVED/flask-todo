{% extends 'base.html' %}
{% block title %} Home {% endblock title %}
{% block body %}

<div class="container">
    <h2> ADD A TODO</h2>
    <form action="/" method="post">
        <div class='mb-2'>
            <lable for="title" class="'form-label">Todo-Title</lable>
            <input type="text" name="title" id="title" class="form-control">
        </div>
        <div class='mb-2'>
            <lable for="description" class="'form-label">Todo-Description</lable>
            <input type="text" name="desc" id="description" class="form-control">
        </div>
        <button class="btn btn-dark" type="submit">SUBMIT</button>
    </form>
</div>

<!-- database display -->
<div class="container mt-2">
    {% if allTodo|length==0 %}
    <div class="alert alert-dark" role="alert">
        No Todos found. Add your first todo now!
      </div>
    {% else %}

    <h2> TODO LIST</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>SNo.</th>
                <th>Title</th>
                <th>Description</th>
                <th>Date and Time</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for todo in allTodo %}
            <tr>
                <td>{{ loop.index}}</td>
                <td>{{ todo.title }}</td>
                <td>{{ todo.des }}</td>
                <td>{{ todo.date_created}}</td>
                <td>
                    <a href="/delete/{{todo.sno}}" type="button"
                        class="btn btn-outline-dark btn-sm mx-1">Delete</button>
                        <a href="/update/{{todo.sno}}" type="button"
                            class="btn btn-outline-dark btn-sm mx-1">Update</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>


    {% endif %}

    {% endblock body %}